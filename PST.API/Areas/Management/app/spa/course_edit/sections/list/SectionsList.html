
<div class="section-body">
    <div class="shell">
        <div class="section-body-inner" >

            <check-published-course></check-published-course>

            <div class="table table-section-list">
                <table>
                    <colgroup>
                        <col width="8%">
                        <col width="44%">
                        <col width="25%">
                        <col width="14%">
                        <col width="9%">
                    </colgroup>
                    <tbody sortable="updateOrder($indice)">
                        <tr>
                            <th colspan="3">Section
                                <i style="text-transform: none" ng-if="sections.length == 0">
                                    : No section(s) available
                                </i>
                                <i style="text-transform: none" ng-if="sections == null">
                                    : Loading...
                                </i>
                            </th>
                            <th class="text-center">Document</th>
                            <th># Questions</th>
                        </tr>
                        <!--<tr ng-if="sections.length == 0">-->
                            <!--<td class="no-record" colspan="5">No section(s) available</td>-->
                        <!--</tr>-->

                        <tr ng-repeat="section in sections" section-row ng-class="{editing: editName.editing}" sortable-row-index="{{$index}}">
                            <td>{{$index + 1}}</td>

                            <td class="section-name">
                                <span class="name">{{section.title}}</span>
                                <span class="name-edit">
                                    <input type="text" class="field" tabindex="1" ng-model="editName.title" placeholder="Section name" ng-maxlength="200" pct-focus="editName.editing"/>
                                    <a href="" class="fa fa-save tooltip-wrapper" tabindex="1" ng-click="saveTitle()"><div class="tooltip">Save</div></a>
                                    <a href="" class="fa fa-close tooltip-wrapper" ng-click="editName.editing = false"><div class="tooltip">Close</div></a>
                                </span>
                            </td>

                            <td>
                                <div class="icons">
                                    <span ng-class="{'sortable-handle': !updatingOrder}" ng-hide="course.status == 1" button-loading="updatingOrder:small">
                                        <i class="fa fa-arrows tooltip-wrapper"><div class="tooltip">Reorder</div></i>
                                    </span>
                                    <a href="" class="icon icon-rename tooltip-wrapper" ng-hide="course.status == 1" ng-click="editName.editing = true"><div class="tooltip">Rename</div></a>
                                    <a ui-sref="^.detail({sectionId: section.id})" class="fa fa-pencil tooltip-wrapper"><div class="tooltip">Edit</div></a>
                                    <span button-loading="deleting:small" ng-hide="course.status == 1">
                                        <a href="" class="fa fa-trash-o tooltip-wrapper" ng-disabled="deleting" ng-click="deleteSection(section)"><div class="tooltip">Remove</div></a>
                                    </span>
                                </div><!-- /.icons -->
                            </td>

                            <td class="text-center padding-vert-0 view-document" ng-if="section.document.pages.length">
                                <div class="view-document-info" button-loading="uploadingDocument"><i class="fa fa-file-pdf-o"></i> <span>{{section.document.pages.length}} page(s)</span></div>
                                <div class="view-document-link">
                                    <a href="{{section.document.pdf_url}}"><i class="fa fa-search tooltip-wrapper"><div class="tooltip">View document</div></i></a>
                                    <span ng-file-select="uploadDocument($files)" accept=".pdf" button-loading="uploadingDocument"><a href=""><i class="fa fa-upload tooltip-wrapper"><div class="tooltip">Upload another document</div></i></a></span>
                                    <a href="" ng-click="deleteDocument()" ng-hide="course.status == 1"><i class="fa fa-trash tooltip-wrapper"><div class="tooltip">Delete document</div></i></a>
                                </div>
                            </td>

                            <td class="text-center padding-vert-0 view-document" ng-if="!section.document.pages.length">
                                <div class="view-document-info" button-loading="uploadingDocument"><i class="fa fa-minus-circle"></i></div>
                                <div class="view-document-link">
                                    <span ng-file-select="uploadDocument($files)" accept=".pdf" button-loading="uploadingDocument"><a href="" class="tooltip-wrapper"><i class="fa fa-upload"><div class="tooltip">Upload document</div></i></a></span>
                                </div>
                            </td>

                            <td>{{section.num_questions}}</td>
                        </tr>

                        <tr ng-hide="course.status == 1">
                            <td>{{sections.length + 1}}</td>

                            <td><input type="text" class="field" placeholder="Add new section" ng-maxlength="200" ng-model="inserting.title"/></td>

                            <td colspan="3">
                                <div class="btns">
                                    <button class="btn btn-grey" ng-click="addSection()" ng-disabled="!inserting.title || inserting.submitting || sections == null" button-loading="inserting.submitting">Add</button>

                                    <button class="btn btn-green" ng-click="addSectionAndView()" ng-disabled="!inserting.title || inserting.submitting || sections == null" button-loading="inserting.submitting">Add &amp; Build</button>
                                </div><!-- /.btns -->
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div><!-- /.table -->


        </div><!-- /.section-body-inner -->
    </div><!-- /.shell -->
</div><!-- /.section-body -->